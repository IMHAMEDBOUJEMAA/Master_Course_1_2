import Adafruit_DHT
import requests
# ThingSpeak channel details
api_key = &quot;YOUR_API_KEY&quot;
base_url = f&quot;https://api.thingspeak.com/update?api_key={api_key}&quot;
# DHT11 sensor details
sensor = Adafruit_DHT.DHT22
gpio_pin = 4

# Read data from the DHT22
sensor humidity, temperature = Adafruit_DHT.read_retry(sensor, gpio_pin)
# Check if data was successfully retrieved from the sensor
if humidity is not None and temperature is not None:
print(f&quot;Temperature: {temperature}Â°C, Humidity: {humidity}%&quot;)
# Create the request URL
url = f&quot;{base_url}&amp;field1={temperature}&amp;field2={humidity}&quot;
# Send the HTTP GET request
response = requests.get(url)
# Check the response status code
if response.status_code == 200:
print(&quot;Data sent to ThingSpeak successfully.&quot;)
else:
print(&quot;Failed to send data to ThingSpeak.&quot;)